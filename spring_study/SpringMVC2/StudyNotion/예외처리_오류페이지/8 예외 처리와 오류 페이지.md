# 8. ì˜ˆì™¸ ì²˜ë¦¬ì™€ ì˜¤ë¥˜ í˜ì´ì§€

- í”„ë¡œì íŠ¸ ìƒì„±
- ì„œë¸”ë¦¿ ì˜ˆì™¸ ì²˜ë¦¬ - ì‹œì‘
- ì„œë¸”ë¦¿ ì˜ˆì™¸ ì²˜ë¦¬ - ì˜¤ë¥˜ í™”ë©´ ì œê³µ
- ì„œë¸”ë¦¿ ì˜ˆì™¸ ì²˜ë¦¬ - ì˜¤ë¥˜ í˜ì´ì§€ ì‘ë™ ì›ë¦¬
- ì„œë¸”ë¦¿ ì˜ˆì™¸ ì²˜ë¦¬ - í•„í„°
- ì„œë¸”ë¦¿ ì˜ˆì™¸ ì²˜ë¦¬ - ì¸í„°ì…‰í„°
- ìŠ¤í”„ë§ë¶€íŠ¸ - ì˜¤ë¥˜ í˜ì´ì§€ 1
- ìŠ¤í”„ë§ë¶€íŠ¸ - ì˜¤ë¥˜ í˜ì´ì§€ 2

## í”„ë¡œì íŠ¸ ìƒì„±

- Dependencies: **Spring Web**, **Lombok** , **Thymeleaf**, **Validation**

## ì„œë¸”ë¦¿ ì˜ˆì™¸ ì²˜ë¦¬ - ì‹œì‘

ì„œë¸”ë¦¿ì€ 2ê°€ì§€ ë°©ì‹ìœ¼ë¡œ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ì§€ì›í•œë‹¤

1. Exception : ì˜ˆì™¸
2. response.sendError(HTTP ìƒíƒœ ì½”ë“œ, ì˜¤ë¥˜ ë©”ì‹œì§€)

### Exception (ì˜ˆì™¸) ?

**ìë°” ì§ì ‘ ì‹¤í–‰**

ìë°”ì˜ ë©”ì¸ ë©”ì„œë“œë¥¼ ì§ì ‘ ì‹¤í–‰í•˜ëŠ” ê²½ìš°, mainì´ë¼ëŠ” ì´ë¦„ì˜ ì“°ë ˆë“œê°€ ì‹¤í–‰ëœë‹¤.

ì‹¤í–‰ ë„ì¤‘ì— ì˜ˆì™¸ë¥¼ ì¡ì§€ ëª»í•˜ê³ , ì²˜ìŒ ì‹¤í–‰í•œ main() ë©”ì„œë“œë¥¼ ë„˜ì–´ì„œ ì˜ˆì™¸ê°€ ë˜ì ¸ì§€ë©´, ì˜ˆì™¸ ì •ë³´ë¥¼ ë‚¨ê¸°ê³ , í•´ë‹¹ ì“°ë ˆë“œëŠ” ì¢…ë£Œëœë‹¤.

**ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜**

ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì‚¬ìš©ì ìš”ì²­ë³„ë¡œ ë³„ë„ì˜ ì“°ë ˆë“œê°€ í• ë‹¹ë˜ê³ , ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆ ì•ˆì—ì„œ ì‹¤í–‰ëœë‹¤.

ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì˜ˆì™¸ê°€ ë°œìƒí–ˆëŠ”ë°, ì–´ë””ì„ ê°€ try-catch ë¡œ ì˜ˆì™¸ë¥¼ ì¡ì•„ì„œ ì²˜ë¦¬í•œë‹¤ë©´ ì•„ë¬´ëŸ° ë¬¸ì œê°€ ì—†ë‹¤. ê·¸ëŸ°ë° ë§Œì•½ì— ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì˜ˆì™¸ë¥¼ ì¡ì§€ ëª»í•˜ê³ , ì„œë¸”ë¦¿ ë°–ê¹Œì§€ ì˜ˆì™¸ê°€ ì „ë‹¬ë˜ë©´??

```java
WAS <- í•„í„° <- ì„œë¸”ë¦¿ <- ì¸í„°ì…‰í„° <- ì»¨íŠ¸ë¡¤ëŸ¬
```

ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì˜ˆì™¸ê°€ ë°œìƒí•˜ê³ , ì´ê²ƒì´ WAS ê¹Œì§€ ì™”ë‹¤ë©´.

í†°ìº£ê³¼ ê°™ì€ WAS ê¹Œì§€ ì˜ˆì™¸ê°€ ì „ë‹¬ëœë‹¤. WAS ëŠ” ì˜ˆì™¸ê°€ ì˜¬ë¼ì˜¤ë©´ ì–´ë–»ê²Œ ì²˜ë¦¬í• ê¹Œ?

**ServletExController**

```java
@Slf4j
@Controller
public class ServletExController {
    @GetMapping("/error-ex")
    public void errorEx() {
        throw new RuntimeException("ì—ì™¸ ë°œìƒ!");
    }
    @GetMapping("/error-404")
    public void error404(HttpServletResponse response) throws IOException {
        response.sendError(404, "404 ì˜¤ë¥˜!");
    }

    @GetMapping("error-500")
    public void error500(HttpServletResponse response) throws IOException {
        response.sendError(500);
    }
}
```

[http://localhost:8080/error-ex](http://localhost:8080/error-ex) ìš”ì²­ ì‹œ 500 - Internal Server Errorê°€ ë°œìƒí•œë‹¤.

[http://localhost:8080/error-404](http://localhost:8080/error-404) ìš”ì²­ ì‹œ 404 ì—ëŸ¬ ì½”ë“œê°€ ë°œìƒí•¨.

[http://localhost:8080/error-500](http://localhost:8080/error-500) ìš”ì²­ ì‹œ 500 ì—ëŸ¬ ì½”ë“œê°€ ë°œìƒí•¨.

## ì„œë¸”ë¦¿ ì˜ˆì™¸ ì²˜ë¦¬ - ì˜¤ë¥˜ í™”ë©´ ì œê³µ

ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆê°€ ì œê³µí•˜ëŠ” ê¸°ë³¸ ì˜ˆì™¸ ì²˜ë¦¬ í™”ë©´ì€ ê³ ê° ì¹œí™”ì ì´ì§€ ì•Šë‹¤. ì„œë¸”ë¦¿ì´ ì œê³µí•˜ëŠ” ì˜¤ë¥˜ í™”ë©´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ë³´ì.

ì„œë¸”ë¦¿ì€ Exception (ì˜ˆì™¸) ê°€ ë°œìƒí•´ì„œ, ì„œë¸”ë¦¿ ë°–ìœ¼ë¡œ ì „ë‹¬ë˜ê±°ë‚˜ ë˜ëŠ” response.sendError() ê°€ í˜¸ì¶œ ë˜ì—ˆì„ ë•Œ ê°ê°ì˜ ìƒí™©ì— ë§ì¶˜ ì˜¤ë¥˜ ì²˜ë¦¬ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.

## ì„œë¸”ë¦¿ ì˜ˆì™¸ ì²˜ë¦¬ - ì˜¤ë¥˜ í˜ì´ì§€ ì‘ë™ ì›ë¦¬

ì„œë¸”ë¦¿ì€ `Exception` ì´ ë°œìƒí•´ì„œ ì„œë¸”ë¦¿ ë°–ìœ¼ë¡œ ì „ë‹¬ë˜ê±°ë‚˜ ë˜ëŠ” **`response.sendError()`** ê°€ í˜¸ì¶œ ë˜ì—ˆì„ ë•Œ, ì„¤ì •ëœ ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ ì°¾ëŠ”ë‹¤.

**ì˜ˆì™¸ ë°œìƒ íë¦„**

```java
WAS <- í•„í„° <- ì„œë¸”ë¦¿ <- ì¸í„°ì…‰í„° <- ì»¨íŠ¸ë¡¤ëŸ¬
```

ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì˜ˆì™¸ê°€ ë°œìƒ â†’ WAS ê¹Œì§€ ì „ë‹¬

**sendError íë¦„**

```java
WAS(sendError í˜¸ì¶œ ê¸°ë¡ í™•ì¸) <- í•„í„° <- ì„œë¸”ë¦¿ <- ì¸í„°ì…‰í„° <- ì»¨íŠ¸ë¡¤ëŸ¬
```

ì´í›„ WASëŠ” í•´ë‹¹ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì˜¤ë¥˜ í˜ì´ì§€ ì •ë³´ë¥¼ í™•ì¸í•œë‹¤.

```java
ErrorPage errorPage404 = new ErrorPage(HttpStatus.NOT_FOUND, "/error-page/404");
```

HttpStatus.NOT_FOUND ì˜ˆì™¸ê°€ WASê¹Œì§€ ì „ë‹¬ë˜ë©´, ê·¸ì— ë§ëŠ” ì˜¤ë¥˜í˜ì´ì§€ë¡œ `/error-page/404` ê°€ ì§€ì •ë˜ì–´ ìˆë‹¤.

WASëŠ” ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ ì¶œë ¥í•˜ê¸° ìœ„í•´ `/error-page/404` ë¥¼ ë‹¤ì‹œ ìš”ì²­í•œë‹¤. ì´í›„ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì˜¤ë¥˜í˜ì´ì§€ë¥¼ ë„ìš´ë‹¤(View í˜¸ì¶œ)

```java
WAS "/error-page/404" ë‹¤ì‹œ ìš”ì²­ -> í•„í„° -> ì„œë¸”ë¦¿ -> ì¸í„°ì…‰í„° -> ì»¨íŠ¸ë¡¤ëŸ¬ ("/error-page/404")
-> View  
```

**ğŸ’¡Â ì›¹ ë¸Œë¼ìš°ì € (í´ë¼ì´ì–¸íŠ¸) ëŠ” ì„œë²„ ë‚´ë¶€ì—ì„œ ì´ëŸ°ì¼ì´ ì¼ì–´ë‚˜ëŠ”ì§€ ì „í˜€ ëª¨ë¥¸ë‹¤.**

### ì˜¤ë¥˜ ì •ë³´ ì¶”ê°€

WASëŠ” ì˜¤ë¥˜í˜ì´ì§€ë¥¼ ë‹¨ìˆœíˆ ë‹¤ì‹œ ìš”ì²­ë§Œ í•˜ëŠ”ê²ƒì´ ì•„ë‹ˆë¼, ì˜¤ë¥˜ ì •ë³´ë¥¼ `request`ì˜ `attribute`ì— ì¶”ê°€í•´ì„œ ë„˜ê²¨ì¤€ë‹¤.

**ErrorPageController - ì˜¤ë¥˜ ì¶œë ¥**

```java
@Slf4j
@Controller
public class ErrorPageController {
    //RequestDispatcher ìƒìˆ˜ë¡œ ì •ì˜ë˜ì–´ ìˆìŒ
    public static final String ERROR_EXCEPTION =
            "jakarta.servlet.error.exception";
    public static final String ERROR_EXCEPTION_TYPE =
            "jakarta.servlet.error.exception_type";
    public static final String ERROR_MESSAGE = "jakarta.servlet.error.message";
    public static final String ERROR_REQUEST_URI =
            "jakarta.servlet.error.request_uri";
    public static final String ERROR_SERVLET_NAME =
            "jakarta.servlet.error.servlet_name";
    public static final String ERROR_STATUS_CODE =
            "jakarta.servlet.error.status_code";

    @RequestMapping("/error-page/404")
    public String errorPage404(HttpServletRequest request, HttpServletResponse response) {
        log.info("errorPage 404");
        printErrorInfo(request);
        return "error-page/404";
    }

    @RequestMapping("/error-page/500")
    public String errorPage500(HttpServletRequest request, HttpServletResponse response) {
        log.info("errorPage 500");
        printErrorInfo(request);
        return "error-page/500";
    }

    private void printErrorInfo(HttpServletRequest request) {
        log.info("ERROR EXCEPTION: ex : {}", request.getAttribute(ERROR_EXCEPTION));
        log.info("ERROR EXCEPTION TYPE: {}", request.getAttribute(ERROR_EXCEPTION_TYPE));
        log.info("ERROR MESSAGE : {}", request.getAttribute(ERROR_MESSAGE));
        log.info("ERROR_REQUEST_URI: {}", request.getAttribute(ERROR_REQUEST_URI));
        log.info("ERROR_SERVLET_NAME: {}", request.getAttribute(ERROR_SERVLET_NAME));
        log.info("ERROR_STATUS_CODE: {}", request.getAttribute(ERROR_STATUS_CODE));
        log.info("dispatchType={}", request.getDispatcherType());
    }
}

```

## ì„œë¸”ë¦¿ ì˜ˆì™¸ ì²˜ë¦¬ - í•„í„°

**LogFilter**

```java
@Slf4j
public class LogFilter implements Filter {
    @Override
    public void init(FilterConfig filterConfig) throws ServletException {
        log.info("log filter init");
    }
    @Override
    public void doFilter(ServletRequest request, ServletResponse response,
                         FilterChain chain) throws IOException, ServletException {
        HttpServletRequest httpRequest = (HttpServletRequest) request;
        String requestURI = httpRequest.getRequestURI();
        String uuid = UUID.randomUUID().toString();
        try {
            log.info("REQUEST  [{}][{}][{}]", uuid, request.getDispatcherType(),
                    requestURI);
            chain.doFilter(request, response);
        } catch (Exception e) {
            throw e;
        } finally {
            log.info("RESPONSE [{}][{}][{}]", uuid, request.getDispatcherType(),
                    requestURI);
        }
    }
    @Override
    public void destroy() {
        log.info("log filter destroy");
    }

}

```

**WebConfig**

```java
@Configuration
public class WebConfig implements WebMvcConfigurer {
    @Bean
    public FilterRegistrationBean logFilter() {
        FilterRegistrationBean<Filter> filterFilterRegistrationBean = new FilterRegistrationBean<>();
        filterFilterRegistrationBean.setFilter(new LogFilter());
        filterFilterRegistrationBean.setOrder(1);
        filterFilterRegistrationBean.addUrlPatterns("/*");
        filterFilterRegistrationBean.setDispatcherTypes(DispatcherType.REQUEST, DispatcherType.ERROR);
        return filterFilterRegistrationBean;
    }
}
```

[http://localhost:8080/error-ex](http://localhost:8080/error-ex) â†’ ìš”ì²­

**ì‹¤í–‰ ê³¼ì •**

1. **LogFilter**ì—ì„œ ë¡œê·¸ ì¶œë ¥
    
    `REQUEST  [5a44ed08-cc80-4a68-b126-f8192d76714b][REQUEST][/error-ex] â†’ LogFilter`
    
2. ì„œë¸”ë¦¿ í˜¸ì¶œ
3. ì»¨íŠ¸ë¡¤ëŸ¬ `errorEx()`  ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ `RuntimeException(â€ì˜ˆì™¸ ë°œìƒ!â€)` í˜¸ì¶œ
4. ì„œë¸”ë¦¿ìœ¼ë¡œ ì˜ˆì™¸ ì „ë‹¬
5. í•„í„°ë¡œ ì˜ˆì™¸ ì „ë‹¬
6. í•„í„°ì—ì„œ ì˜ˆì™¸ catch ì´í›„ ë¡œê·¸ ì¶œë ¥ :
    
    `EXCEPTION Request processing failed: java.lang.RuntimeException: ì—ì™¸ ë°œìƒ!`
    
7. finally ë¡œê·¸ ì¶œë ¥
    
    `RESPONSE [5a44ed08-cc80-4a68-b126-f8192d76714b][REQUEST][/error-ex]`
    
8. WAS ë¡œ ì˜ˆì™¸ ì „ë‹¬
9. **WebServerCustomizer** ì—ì„œ 
`ErrorPage errorPageEx = new ErrorPage*(*RuntimeException.class, "/error-page/500"*)*;`
    
    /error-page/500 ìœ¼ë¡œ ìš”ì²­
    
10. **LogFilter**ì—ì„œ ë¡œê·¸ ë‹¤ì‹œ ì¶œë ¥ë¨.
    
    `REQUEST  [609391c2-4820-4cd0-b64d-004c3279ab8e][ERROR][/error-page/500]`
    
11. ì„œë¸”ë¦¿ í˜¸ì¶œ
12. ì»¨íŠ¸ë¡¤ëŸ¬ errorPage500 í˜¸ì¶œ ì´í›„ 
    
    ë¡œê·¸ ì¶œë ¥ë¨.
    
    `errorPage 500` 
    
    `ERROR EXCEPTION: java.lang.RuntimeException: ì—ì™¸ ë°œìƒ!`
    
    `â€¦`
    
    `dispatchType=ERROR`
    
13. ë·° ë Œë”ë§ `â€œerror-page/500â€`
14. ì„œë¸”ë¦¿ í˜¸ì¶œ
15. í•„í„° í˜¸ì¶œ - ì˜ˆì™¸ ì—†ìŒ.
16. finally ë¡œê·¸ ì¶œë ¥
    
    `RESPONSE [f9fd2bed-5dc4-4b6a-a1d0-ba2d93fc0fb3][ERROR][/error-page/500]`
    

â†’ ì¦‰, FilterëŠ” 2ë²ˆ í˜¸ì¶œë¨.

## ì„œë¸”ë¦¿ ì˜ˆì™¸ ì²˜ë¦¬ - ì¸í„°ì…‰í„°

Filter â†’ Servlet ê¸°ìˆ ì´ì§€ë§Œ, Interceptor â†’ Spring ê¸°ìˆ ì´ë‹¤,

Interceptorì—ì„œ ì˜ˆì™¸ ì²˜ë¦¬ëŠ” ì–´ë–»ê²Œ ì´ë£¨ì–´ì§ˆê¹Œ?

### ì¸í„°ì…‰í„° ì¤‘ë³µ í˜¸ì¶œ ì œê±°

**LogInterceptor**

```java
@Slf4j
public class LogInterceptor implements HandlerInterceptor {
    public static final String LOG_ID = "logId";
    @Override
    public boolean preHandle(HttpServletRequest request, HttpServletResponse
            response, Object handler) throws Exception {
        String requestURI = request.getRequestURI();
        String uuid = UUID.randomUUID().toString();
        request.setAttribute(LOG_ID, uuid);
        log.info("REQUEST  [{}][{}][{}][{}]", uuid, request.getDispatcherType(),
                requestURI, handler);
        return true;
    }
    @Override
    public void postHandle(HttpServletRequest request, HttpServletResponse
            response, Object handler, ModelAndView modelAndView) throws Exception {
        log.info("postHandle [{}]", modelAndView);
    }
    @Override
    public void afterCompletion(HttpServletRequest request, HttpServletResponse
            response, Object handler, Exception ex) throws Exception {
        String requestURI = request.getRequestURI();
        String logId = (String)request.getAttribute(LOG_ID);
        log.info("RESPONSE [{}][{}][{}]", logId, request.getDispatcherType(),
                requestURI);
        if (ex != null) {
            log.error("afterCompletion error!!", ex);
        }
    }
}

```

preHandle â†’ ì‹¤í–‰ ë¨

controller â†’ ì˜ˆì™¸ ë°œìƒ í•¨

postHandle â†’ controller ì—ì„œ ì˜ˆì™¸ ë°œìƒí•˜ì—¬ ì‹¤í–‰ ì•ˆë¨.

afterCompletion â†’ í•­ìƒ í˜¸ì¶œ ë¨.

Interceptorë¥¼ ë‚´ë¶€ í˜¸ì¶œ ì‹œ í˜¸ì¶œ í•˜ì§€ ì•Šê¸° ìœ„í•´ì„œëŠ” 

`.excludePathPatterns*(*"/css/**", "*.ico", "/error", "/error-page/**"*)*;`

ì—ì„œ `â€œ/error-page/**â€` ë¥¼ ë„£ì–´ì¤˜ì•¼ í•œë‹¤.

**WebConfig - addInterceptors**

```java
@Override
public void addInterceptors(InterceptorRegistry registry) {
    registry.addInterceptor(new LogInterceptor())
            .order(1)
            .addPathPatterns("/**")
            .excludePathPatterns("/css/**", "*.ico", "/error", "/error-page/**");
    //í•„í„° ì²˜ëŸ¼ Dispatcher Type ì— ë”°ë¼ ì ìš©í•  ì§€ ì„ íƒí•  ìˆ˜ ì—†ë‹¤.
    //ëŒ€ì‹  ì˜¤ë¥˜ ê²½ë¡œë¥¼ ì¶”ê°€í•˜ë©´ ëœë‹¤.
}
```

## ìŠ¤í”„ë§ ë¶€íŠ¸ - ì˜¤ë¥˜ í˜ì´ì§€ 1

**ì´ì œëŠ” ì„œë¸”ë¦¿ì´ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì„ ë„˜ì–´ì„œ, ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ ì˜¤ë¥˜í˜ì´ì§€ ê°™ì€ ê²ƒë“¤ì„ ì–´ë–»ê²Œ ì œê³µí•˜ëŠ”ì§€ ì•Œì•„ë³´ì.**

ì§€ê¸ˆê¹Œì§€ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ìœ„í•´

- WebServerCustomizerë¥¼ ë§Œë“¤ê³ 
- ì˜ˆì™¸ ì¢…ë¥˜ì— ë”°ë¼ì„œ ErrorPageë¥¼ ì¶”ê°€í•˜ê³ 
    - ì˜ˆì™¸ ì²˜ë¦¬ìš© ì»¨íŠ¸ë¡¤ëŸ¬ ErrorPageControllerë¥¼ ë§Œë“¤ì—ˆë‹¤.

**ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” ì´ëŸ° ê³¼ì •ì„ ëª¨ë‘ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•œë‹¤.**

- ErrorPage ë¥¼ ìë™ìœ¼ë¡œ ë“±ë¡í•œë‹¤. â†’ `/error` ë¼ëŠ” ê²½ë¡œë¡œ ê¸°ë³¸ ì˜¤ë¥˜ í˜ì´ì§€ë¥¼ ì„¤ì •í•œë‹¤.
    - `new ErrorPage(â€/errorâ€)`, ìƒíƒœ ì½”ë“œì™€ ì˜ˆì™¸ë¥¼ ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´, ê¸°ë³¸ ì˜¤ë¥˜ í˜ì´ì§€ë¡œ ì‚¬ìš©ëœë‹¤
    - ì„œë¸”ë¦¿ ë°–ìœ¼ë¡œ ì˜ˆì™¸ê°€ ë°œìƒí•˜ê±°ë‚˜, `response.sendError()` ê°€ í˜¸ì¶œë˜ë©´, ëª¨ë“  ì˜¤ë¥˜ëŠ” `/error` ë¥¼ í˜¸ì¶œí•˜ê²Œ ëœë‹¤.
- BasicErrorController ë¼ëŠ” ìŠ¤í”„ë§ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ìë™ìœ¼ë¡œ ë“±ë¡í•œë‹¤.
    - ErrorPageì—ì„œ ë“±ë¡í•œ `/error` ë¥¼ ë§¤í•‘í•´ì„œ ì²˜ë¦¬í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ë‹¤.

ì¦‰, ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´, `â€œ/errorâ€` ë¥¼ ê¸°ë³¸ ìš”ì²­í•˜ê³ , ì´ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” `BasicErrorController` ì´ë‹¤.

**ê°œë°œìëŠ” ì˜¤ë¥˜í˜ì´ì§€ë§Œ ë“±ë¡í•˜ë©´ ëœë‹¤. â†’ ì–´ë””ì—?**

**View ì„ íƒ ìš°ì„  ìˆœìœ„**

1. View templates
    - resources/templates/error/500.html  â†’ 5xx ë³´ë‹¤ ìš°ì„ ìˆœìœ„ê°€ ë†’ë‹¤.
    - resources/templates/error/5xx.html
2. ì •ì  ë¦¬ì†ŒìŠ¤ (static, public)
    - resources/static/error/400.html
    - resources/static/error/404.html
    - resources/static/error/4xx.html
3. ì ìš© ëŒ€ìƒì´ ã…‡ë²—ì„ ë•Œ ë·° ì´ë¦„ (error)
    1. resources/templates/error.html

## ìŠ¤í”„ë§ ë¶€íŠ¸ - ì˜¤ë¥˜ í˜ì´ì§€ 2

**BasicErrorController ê°€ ì œê³µí•˜ëŠ” ê¸°ë³¸ ì •ë³´ë“¤**

```
timestamp: Fri Feb 05 00:00:00 KST 2021
status: 400
error: Bad Request
exception: org.springframework.validation.BindException
trace: ì˜ˆì™¸ trace* 
message: Validation failed for object='data'. Error count: 1
errors: Errors(BindingResult)
path: í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ ê²½ë¡œ (`/hello`)
```

**application.properties**

```java
server.error.include-exception=true
server.error.include-message=on_param
server.error.include-stacktrace=on_param
server.error.include-binding-errors=on_param
```

ì´ë¥¼ í†µí•´ ì˜¤ë¥˜ ì •ë³´ë¥¼ model ì— í¬í•¨í• ì§€ ì—¬ë¶€ë¥¼ ì„ íƒí•  ìˆ˜ ìˆë‹¤.

ğŸš¨Â **í•˜ì§€ë§Œ, ì‹¤ë¬´ì—ì„œëŠ” ë…¸ì¶œí•˜ë©´ ì•ˆëœë‹¤. - ë³´ì•ˆì— ì·¨ì•½ì , ê³ ê°ì´ ì´í•´í•  ìˆ˜ ìˆëŠ” ê°„ë‹¨í•œ ì˜¤ë¥˜ ë©”ì‹œì§€ ë§Œ í¬í•¨í•´ì•¼ í•œë‹¤.**